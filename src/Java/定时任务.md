# SpringBoot

## 入门

1. 开启定时任务功能

   ```java
   @Configuration
   @EnableScheduling
   public class ScheduleConfig {
   }
   ```

2. 添加定时任务

   ```java
   @Component
   public class PaymentSchedule {
       @Scheduled(cron = "* * * * * ?")
       public void sayWord() {
           System.out.println("这是一个定时任务");
       }
   }
   ```

## 基础

### 注解

#### @Scheduled

`@Scheduled`标注在方法上，表示一个定时任务

常用参数：

* cron
* fixedDelay
* fixedRate
* initialDelay

### CRON

[简洁明了看懂cron表达式 - 知乎 (zhihu.com)](https://zhuanlan.zhihu.com/p/437328366)

| 表达式             | 描述                                       |
| ------------------ | ------------------------------------------ |
| */5 * * * * ?      | 每隔5秒钟执行一次                          |
| 0 */1 * * * ?      | 每隔1分钟执行一次                          |
| 0 0 1 * * ?        | 每天1点执行一次                            |
| 0 55 23 * * ？     | 每天23点55分执行一次                       |
| 0 0 23 L * ？      | 每月最后一天23点执行一次                   |
| 0 0 8 ? * L        | 每周六8点执行一次                          |
| 0 0 */2 ? * 6L     | 每月最后一个周五，每隔2小时执行一次        |
| 0 15 10 ? * 5#3    | 每月的第三个星期五上午10:15执行一次        |
| 0 0-5 14 * * ?     | 在每天下午2点到下午2:05期间的每1分钟执行   |
| 0 15 10 ? * 2-6    | 表示周一到周五每天上午10:15执行            |
| 0 15 10 ? * 6L     | 每个月的最后一个星期五上午10:15执行        |
| 0 0 10,14,16 * * ? | 每天上午10点，下午2点，4点执行一次         |
| 0 0/30 9-17 * * ?  | 朝九晚五工作时间内每半小时执行一次         |
| 0 0 12 ? * 4       | 每个星期三中午12点执行一次                 |
| 0 10,44 14 ? 3 4   | 每年三月的星期三的下午2:10和2:44各执行一次 |
| 0 15 10 ? * 6#3    | 每月的第三个星期五上午10:15执行一次        |
| 0 30 2 1 * ?       | 每月一日凌晨2点30执行一次                  |
| 10,20 * * * * ?    | 每分钟的第10秒与第20秒都会执行             |
| 0 0 0 ? * 6#2      | 每月的第2个星期的周5，凌晨执行             |

## 扩展

### 工具类

* CronSequenceGenerator